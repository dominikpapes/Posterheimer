\chapter{Arhitektura i dizajn sustava}
		
		\textbf{\textit{dio 1. revizije}}\\

		\textit{ Potrebno je opisati stil arhitekture te identificirati: podsustave, preslikavanje na radnu platformu, spremišta podataka, mrežne protokole, globalni upravljački tok i sklopovsko-programske zahtjeve. Po točkama razraditi i popratiti odgovarajućim skicama:}
	\begin{itemize}
		\item 	\textit{izbor arhitekture temeljem principa oblikovanja pokazanih na predavanjima (objasniti zašto ste baš odabrali takvu arhitekturu)}
		\item 	\textit{organizaciju sustava s najviše razine apstrakcije (npr. klijent-poslužitelj, baza podataka, datotečni sustav, grafičko sučelje)}
		\item 	\textit{organizaciju aplikacije (npr. slojevi frontend i backend, MVC arhitektura) }		
	\end{itemize}

	
		

		

				
		\section{Baza podataka}
			
		Za potrebe našeg sustava koristiti ćemo relacijsku bazu podataka koja svojom strukturom olakšava modeliranje stvarnog svijeta. Gradivna jedinka baze je relacija, odnosno tablica koja je definirana svojim imenom i skupom atributa. Zadaća baze podataka je brza i jednostavna pohrana, izmjena i dohvat podataka za daljnju obradu.
		Baza podataka ove aplikacije sastoji se od sljedećih entiteta: 
		
		\begin{itemize}
			\item Konferencija
			\item Korisnik
			\item Poster
			\item Pokrovitelj
			\item Pokrovitelj-Konferencije
			\item Fotografije
		\end{itemize}
		
			\subsection{Opis tablica}
				
				\noindent\textbf{Konferencija } Ovaj entitet sadržava sve važne informacije o stručnoj konferenciji. Sadrži atribute: Identifikator konferencije, ime konferencije, datum i vrijeme početka konferencije, datum i vrijeme završetka konferencije i mjesto održavanja konferencije. Ovaj entitet u vezi je \textit{One-to-Many} s entitetom Korisnik preko identifikatora konferencije, u vezi \textit{One-to-Many} s entitetom Poster preko identifikatora konferencije, u vezi \textit{One-to-Many} s entitetom Fotografije preko identifikatora konferencije i u vezi \textit{Many-to-Many} s entitetom Pokrovitelj preko identifikatora konferencije. 
				
				\begin{longtblr}[
					label=none,
					entry=none
					]{
						width = \textwidth,
						colspec={|X[6,l]|X[6, l]|X[20, l]|}, 
						rowhead = 1,
					} %definicija širine tablice, širine stupaca, poravnanje i broja redaka naslova tablice
					\hline \SetCell[c=3]{c}{\textbf{Konferencija}}	 \\ \hline[3pt]
					\SetCell{LightGreen}idKonferencije & INT	&  	jedinstveni brojčani identifikator konferencije  	\\ \hline
					ime Konferencije	& VARCHAR &   jedinstveno ime konferencije	\\ \hline 
					datumVrijeme Početka & DATETIME & datum i vrijeme početka konferencije  \\ \hline
					datumVrijeme Završetka & DATETIME & datum i vrijeme završetka konferencije \\ \hline
					mjesto	& VARCHAR & ime mjesta u kojem se održava konferencija \\ \hline 
				\end{longtblr}
				
				
				\noindent\textbf{Korisnik } Ovaj entitet sadržava sve važne informacije o korisniku aplikacije. Sadrži atribute: Korisničko ime, lozinku, ime, prezime, e-mail adresu korisnika, razinu ovlasti korisnika, identifikator konferencije na kojoj korisnik sudjeluje i identifikator postera za koji je korisnik glasao.  Ovaj entitet je u vezi \textit{Many-to-One} s entitetom Konferencija preko identifikatora konferencije, u vezi \textit{Many-to-One} s entitetom Poster preko identifikatora postera i u vezi \textit{One-to-One} s entitetom Poster preko korisničkog imena. 
				
				\begin{longtblr}[
					label=none,
					entry=none
					]{
						width = \textwidth,
						colspec={|X[6,l]|X[6, l]|X[20, l]|}, 
						rowhead = 1,
					} %definicija širine tablice, širine stupaca, poravnanje i broja redaka naslova tablice
					\hline \SetCell[c=3]{c}{\textbf{Korisnik}}	 \\ \hline[3pt]
					\SetCell{LightGreen}korisničko Ime & VARCHAR	&  jedinstveni identifikator korisnika 	\\ \hline
					lozinka	& VARCHAR & hash lozinka  	\\ \hline 
					ime & VARCHAR & ime korisnika  \\ \hline 
					prezime & VARCHAR	& prezime korisnika 		\\ \hline 
					email & VARCHAR	& e-mail adresa korisnika  		\\ \hline 
					razina ovlasti & INT &  razina ovlasti korisnika		\\ \hline 
					\SetCell{LightBlue} idKonferencije	& INT & jedinstveni identifikator konferencije na kojoj korisnik sudjeluje (konferencija.idKonferencije)  	\\ \hline 
					\SetCell{LightBlue} odabranPoster & INT & jedinstveni identifikator postera za koji je korisnik glasao (poster.id), ukoliko korisnik nije glasao vrijednost atributa je NULL \\ \hline
				\end{longtblr}
				
				\noindent \textbf{Poster } Ovaj entitet sadržava sve važne informacije o radu i/ili izlaganju koje je prikazano odgovarajućim posterom ili prezentacijom. Sadrži atribute: Identifikator postera, ime rada, broj glasova za poster, oznaku ima li prezentaciju, "prikaz" koji sadrži poster ili prezentaciju, identifikator konferencije na kojoj se rad izlaže i identifikator korisnika koji je autor rada. Ovaj entitet je u vezi \textit{Many-to-One} s entitetom Konferencija preko identifikatora konferencije, u vezi \textit{One-to-Many} s entitetom Korisnik preko identifikatora postera i u vezi \textit{One-to-One} s entitetom Korisnik preko korisničkog imena. 
				
				
				\begin{longtblr}[
					label=none,
					entry=none
					]{
						width = \textwidth,
						colspec={|X[6,l]|X[6, l]|X[20, l]|}, 
						rowhead = 1,
					} %definicija širine tablice, širine stupaca, poravnanje i broja redaka naslova tablice
					\hline \SetCell[c=3]{c}{\textbf{Poster}}	 \\ \hline[3pt]
					\SetCell{LightGreen}id & INT	&  jedinstveni brojčani identifikator	\\ \hline
					brojGlasova	& INT & broj glasova za poster  	\\ \hline 
					imeRada & VARCHAR & ime rada kojeg poster prikazuje \\ \hline
					prezentacija & BOOLEAN & oznaka ima li prezentaciju  \\ \hline 
					prikaz & LONGBLOB	& slika postera ukoliko je vrijednost atributa prezentacija jednaka FALSE, inače je priložena prezentacija u PDF obliku 		\\ \hline 
					\SetCell{LightBlue} idKonferencije	& INT & jedinstveni brojčani identifikator konferencije kojoj poster pripada (konferencija.idKonferencije)  	\\ \hline 
					\SetCell{LightBlue} autor	& VARCHAR & jedinstveni identifikator autora rada kojeg poster prikazuje (korisnik.korisničkoIme)  	\\ \hline 
				\end{longtblr}
				
				
				\noindent \textbf{Pokrovitelj } Ovaj entitet sadržava sve važne informacije o pokrovitelju. Sadrži atribute: Identifikator pokrovitelja, ime pokrovitelja i promotivne materijale. Ovaj entitet je u vezi \textit{Many-to-Many} s entitetom Konferencija.
				
				
				\begin{longtblr}[
					label=none,
					entry=none
					]{
						width = \textwidth,
						colspec={|X[6,l]|X[6, l]|X[20, l]|}, 
						rowhead = 1,
					} %definicija širine tablice, širine stupaca, poravnanje i broja redaka naslova tablice
					\hline \SetCell[c=3]{c}{\textbf{Pokrovitelj}}	 \\ \hline[3pt]
					\SetCell{LightGreen}idPokrovitelja & INT & jedinstveni brojčani identifikator pokrovitelja  	\\ \hline
					ime
					Pokrovitelja	& VARCHAR & jedinstveno ime pokrovitelja   	\\ \hline 
					promo & LONGBLOB & promotivni materijal; slika loga pokrovitelja   \\ \hline 
				\end{longtblr}
				
				
				\noindent \textbf{Pokrovitelj-Konferencije } Ovaj entitet sadržava sve informacije o odnosu konferencije i pokrovitelja odnosno kojoj konferenciji pokrovitelj pripada.
				
				
				\begin{longtblr}[
					label=none,
					entry=none
					]{
						width = \textwidth,
						colspec={|X[6,l]|X[6, l]|X[20, l]|}, 
						rowhead = 1,
					} %definicija širine tablice, širine stupaca, poravnanje i broja redaka naslova tablice
					\hline \SetCell[c=3]{c}{\textbf{Pokrovitelj-Konferencije}}	 \\ \hline[3pt]
					\SetCell{LightBlue} idPokrovitelja	& INT & jedinstveni brojčani identifikator pokrovitelja (pokrovitelj.idPokrovitelja)     	\\ \hline
					\SetCell{LightBlue}idKonferencije	& INT & jedinstveni brojčani identifikator konferencije (konferencija.idKonferencije)  	\\ \hline 

				\end{longtblr}
				
				
				\noindent \textbf{Fotografija } Ovaj entitet sadržava sve informacije o fotografijama s konferencije. Sadrži atribute: Identifikator fotografije, sliku fotografije i identifikator konferencije koja je fotografirana. Ovaj entitet u vezi je \textit{Many-to-One} s entitetom Konferencija. 
				
				
				\begin{longtblr}[
					label=none,
					entry=none
					]{
						width = \textwidth,
						colspec={|X[6,l]|X[6, l]|X[20, l]|}, 
						rowhead = 1,
					} %definicija širine tablice, širine stupaca, poravnanje i broja redaka naslova tablice
					\hline \SetCell[c=3]{c}{\textbf{Fotografije}}	 \\ \hline[3pt]
					\SetCell{LightGreen}id & INT & jedinstveni brojčani identifikator fotografije   	\\ \hline
					slika	& LONGBLOB &  fotografija s konferencije	\\ \hline 
					\SetCell{LightBlue} idKonferencije	& INT & jedinstveni brojčani identifikator konferencije (konferencija.idKonferencija)  	\\ \hline 
				\end{longtblr}
			
			\subsection{Dijagram baze podataka}
				
					\begin{figure} [h]
						\includegraphics[width=\linewidth]{Slike/ERDijagram}
						\caption{E-R dijagram baze podataka}
					\end{figure}
			
			\eject
			
			
		\section{Dijagram razreda}
		
			\begin{figure}
				\includegraphics[width=\linewidth]{Slike/ClassDiagram}
				\caption{Dijagram razreda}
			\end{figure}
			
			\textbf{\textit{dio 2. revizije}}\\			
			
			\textit{Prilikom druge predaje projekta dijagram razreda i opisi moraju odgovarati stvarnom stanju implementacije}
			
			
			
			\eject
		
		\section{Dijagram stanja}
			
			
			\textbf{\textit{dio 2. revizije}}\\
			
			\textit{Potrebno je priložiti dijagram stanja i opisati ga. Dovoljan je jedan dijagram stanja koji prikazuje \textbf{značajan dio funkcionalnosti} sustava. Na primjer, stanja korisničkog sučelja i tijek korištenja neke ključne funkcionalnosti jesu značajan dio sustava, a registracija i prijava nisu. }
			
			
			\eject 
		
		\section{Dijagram aktivnosti}
			
			\textbf{\textit{dio 2. revizije}}\\
			
			 \textit{Potrebno je priložiti dijagram aktivnosti s pripadajućim opisom. Dijagram aktivnosti treba prikazivati značajan dio sustava.}
			
			\eject
		\section{Dijagram komponenti}
		
			\textbf{\textit{dio 2. revizije}}\\
		
			 \textit{Potrebno je priložiti dijagram komponenti s pripadajućim opisom. Dijagram komponenti treba prikazivati strukturu cijele aplikacije.}